<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Para Mi San Valentín ❤️</title>
    <style>
        :root {
            --pink-bg: #ff4d6d;
            --accent: #ff758f;
        }

        body {
            background-color: var(--pink-bg);
            background-image: radial-gradient(circle, var(--accent) 15%, transparent 15%);
            background-size: 60px 60px;
            margin: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            font-family: 'Segoe UI', sans-serif;
            overflow: hidden;
        }

        /* Pantalla Inicial */
        #start-screen {
            text-align: center;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
            padding: 20px 40px;
            border-radius: 50px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            z-index: 10;
        }

        .heart-btn { color: #e63946; font-size: 40px; margin-right: 15px; animation: beat 1s infinite; }
        @keyframes beat { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.2); } }

        /* Tarjeta Principal */
        #main-card {
            display: none;
            background: #fffafa;
            width: 90%;
            max-width: 420px;
            border-radius: 25px;
            padding: 25px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
            text-align: center;
            position: relative;
        }

        /* Árbol Simétrico */
        .tree-container { height: 280px; margin-bottom: 10px; }
        .trunk {
            fill: none; stroke: #5d4037; stroke-width: 5;
            stroke-dasharray: 1000; stroke-dashoffset: 1000;
            animation: draw 2s ease-out forwards;
        }
        .heart-leaf {
            fill: #ff4d6d; opacity: 0; transform-origin: center;
            animation: pop 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }

        @keyframes draw { to { stroke-dashoffset: 0; } }
        @keyframes pop { to { opacity: 1; transform: scale(1.1); } }

        /* Mensajes Typing */
        .typing-container { min-height: 60px; margin: 10px 0; }
        .typing {
            font-size: 14px; color: #333; margin: 2px 0;
            border-right: 2px solid var(--pink-bg);
            white-space: nowrap; overflow: hidden;
            width: 0; display: inline-block;
        }
        .type-1 { animation: type 2s steps(30) forwards; animation-delay: 1.5s; }
        .type-2 { animation: type 2s steps(30) forwards; animation-delay: 3.5s; }

        @keyframes type { from { width: 0; } to { width: 100%; } }

        /* Apartado de Pregunta */
        .question-section {
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px dashed #ff758f;
        }
        .btn-group {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
            position: relative;
            height: 50px;
        }
        button {
            padding: 10px 25px;
            border-radius: 20px;
            border: none;
            cursor: pointer;
            font-weight: bold;
            transition: 0.3s;
        }
        #btn-si { background: #ff4d6d; color: white; }
        #btn-no { background: #ddd; color: #666; position: absolute; left: 55%; }

        .timer { font-weight: bold; color: #444; font-size: 15px; margin-bottom: 10px; }
    </style>
</head>
<body>

    <div id="start-screen" onclick="iniciar()">
        <span class="heart-btn">❤️</span>
        <span style="font-size: 24px; color: #5d4037; font-weight: bold;">San Valentín</span>
    </div>

    <div id="main-card">
        <div class="tree-container">
            <svg viewBox="0 0 200 200" id="tree-svg" width="100%" height="100%">
                <path class="trunk" d="M100 185 v-70" />
                <path class="trunk" d="M100 145 Q70 120 50 140" style="animation-delay: 0.3s;"/>
                <path class="trunk" d="M100 145 Q130 120 150 140" style="animation-delay: 0.3s;"/>
                <path class="trunk" d="M100 125 Q65 90 80 100" style="animation-delay: 0.6s;"/>
                <path class="trunk" d="M100 125 Q135 90 120 100" style="animation-delay: 0.6s;"/>
            </svg>
        </div>

        <div id="time-display" class="timer">00d 00h 00m 00s</div>

        <div class="typing-container">
            <div class="typing type-1">Gracias por llegar a mi vida y llenar de felicidad mis dias,</div><br>
            <div class="typing type-2">te amo con toda mi alma. ❤️</div>
        </div>

        <div class="question-section" id="pregunta">
            <p style="font-weight: bold; color: #ff4d6d;">¿Quieres ser mi San Valentín?</p>
            <div class="btn-group">
                <button id="btn-si" onclick="aceptar()">¡SÍ!</button>
                <button id="btn-no" onmouseover="moverNo()">No</button>
            </div>
        </div>
    </div>

    <script>
        const startDate = new Date(2025, 5, 7, 0, 0, 0); 
        const svg = document.getElementById('tree-svg');

        function crearHojasSimetricas() {
            // Genera corazones en un patrón circular simétrico
            for (let i = 0; i < 100; i++) {
                const angle = Math.random() * Math.PI * 2;
                const radius = Math.random() * 60;
                // Ajuste para que la copa sea redonda y centrada sobre el tronco
                const x = 100 + radius * Math.cos(angle);
                const y = 90 + radius * Math.sin(angle) * 0.8; 
                
                const delay = 1.2 + (Math.random() * 1.5);
                const heart = document.createElementNS("http://www.w3.org/2000/svg", "path");
                heart.setAttribute("class", "heart-leaf");
                heart.setAttribute("d", `M${x} ${y} q0-4 4-4 t4 4 q0 4-4 8 q-4-4-4-8`);
                heart.style.animationDelay = `${delay}s`;
                svg.appendChild(heart);
            }
        }

        function iniciar() {
            document.getElementById('start-screen').style.display = 'none';
            document.getElementById('main-card').style.display = 'block';
            crearHojasSimetricas();
            setInterval(actualizarReloj, 1000);
        }

        function actualizarReloj() {
            const now = new Date();
            const diff = now - startDate;
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hrs = Math.floor((diff / (1000 * 60 * 60)) % 24);
            const min = Math.floor((diff / (1000 * 60)) % 60);
            const sec = Math.floor((diff / 1000) % 60);
            document.getElementById('time-display').innerText = `${days} días ${hrs}h ${min}m ${sec}s`;
        }

        function moverNo() {
            const btnNo = document.getElementById('btn-no');
            const x = Math.random() * 80 - 40;
            const y = Math.random() * 80 - 40;
            btnNo.style.transform = `translate(${x}px, ${y}px)`;
        }

        function aceptar() {
            alert("TENEMOS UNA CITA EL SABADO MUJER DE MI VIDA, TE AMO.");
            document.getElementById('pregunta').innerHTML = "<h2 style='color: #ff4d6d; animation: beat 0.5s infinite;'>¡TE AMO! ❤️</h2>";
        }
    </script>
</body>
</html>
